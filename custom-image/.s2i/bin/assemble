#!/bin/sh
set -e

usage(){
  "${STI_SCRIPTS_PATH}/usage"
}

debug(){
  echo "
    This process is runing as $(id)
    Path: $(pwd)
  "
}

download_model(){
  echo "
    Example: curl https://modelregistry.local?appid={API key}&model=${MODEL} > /tmp/src/
  "
}

assemble_s2i_override(){
  # handle other dependencies here
  debug
  download_model
}

assemble_s2i_default(){
  echo "Resume default assemble"
  /usr/libexec/s2i/assemble
}

# usage
assemble_s2i_override
# restore_artifacts
assemble_s2i_default
